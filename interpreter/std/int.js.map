{"version":3,"sources":["../../../../src/main/interpreter/std/int.js"],"names":["IntClass","name","Types","Int","superClass","Object","properties","push","Formal","functions","Function","String","NativeExpression","context","result","Obj","create","set","self","get","toString","Bool","rhs","store","environment","find","lhs","value","type","Double","Math","round","Class"],"mappings":"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","file":"int.js","sourcesContent":["import { Class } from '../../ast/class'\nimport { Formal } from '../../ast/formal'\nimport { Function } from '../../ast/func'\nimport { NativeExpression } from '../../ast/nativeexpression'\nimport { Obj } from '../../interpreter/object'\nimport { Types } from '../../types/types'\n\nexport class IntClass extends Class {\n\n    constructor() {\n        super();\n\n        this.name = Types.Int;\n\n        this.superClass = Types.Object;\n\n        this.properties.push(new Formal('value', 'int'));\n\n        this.functions.push(new Function('toString', [], Types.String,\n            new NativeExpression((context) => {\n                let result = Obj.create(context, Types.String);\n\n                result.set('value', context.self.get('value').toString());\n\n                return result;\n            }), true));\n\n        this.functions.push(new Function('==', [new Formal('rhs', Types.Object)], Types.Bool,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let value = Obj.create(context, Types.Bool);\n\n                if (rhs.type !== Types.Int && rhs.type !== Types.Double) {\n                    value.set('value', false);\n                } else {\n                    value.set('value', lhs.get('value') === rhs.get('value'));\n                }\n\n                return value;\n            }), true));\n\n        this.functions.push(new Function('unary_-', [], Types.Int,\n            new NativeExpression((context) => {\n                let result = Obj.create(context, Types.Int);\n\n                result.set('value', -context.self.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('+', [new Formal('rhs', Types.Int)], Types.Int,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Int);\n                result.set('value', lhs.get('value') + rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('+', [new Formal('rhs', Types.Double)], Types.Double,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Double);\n                result.set('value', lhs.get('value') + rhs.get('value'));\n\n                return result;\n            })));\n\n\n        this.functions.push(new Function('-', [new Formal('rhs', Types.Int)], Types.Int,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Int);\n                result.set('value', lhs.get('value') - rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('-', [new Formal('rhs', Types.Double)], Types.Double,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Double);\n                result.set('value', lhs.get('value') - rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('*', [new Formal('rhs', Types.Int)], Types.Int,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Int);\n                result.set('value', lhs.get('value') * rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('*', [new Formal('rhs', Types.Double)], Types.Double,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Double);\n                result.set('value', lhs.get('value') * rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('/', [new Formal('rhs', Types.Int)], Types.Int,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Int);\n                result.set('value', Math.round(lhs.get('value') / rhs.get('value')));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('/', [new Formal('rhs', Types.Double)], Types.Double,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Double);\n                result.set('value', lhs.get('value') / rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('%', [new Formal('rhs', Types.Int)], Types.Int,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Int);\n                result.set('value', lhs.get('value') % rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('>', [new Formal('rhs', Types.Int)], Types.Bool,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Bool);\n                result.set('value', lhs.get('value') > rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('>', [new Formal('rhs', Types.Double)], Types.Bool,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Bool);\n                result.set('value', lhs.get('value') > rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('>=', [new Formal('rhs', Types.Int)], Types.Bool,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Bool);\n                result.set('value', lhs.get('value') >= rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('>=', [new Formal('rhs', Types.Double)], Types.Bool,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Bool);\n                result.set('value', lhs.get('value') >= rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('<', [new Formal('rhs', Types.Int)], Types.Bool,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Bool);\n                result.set('value', lhs.get('value') < rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('<', [new Formal('rhs', Types.Double)], Types.Bool,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Bool);\n                result.set('value', lhs.get('value') < rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('<=', [new Formal('rhs', Types.Int)], Types.Bool,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Bool);\n                result.set('value', lhs.get('value') <= rhs.get('value'));\n\n                return result;\n            })));\n\n        this.functions.push(new Function('<=', [new Formal('rhs', Types.Double)], Types.Bool,\n            new NativeExpression((context) => {\n                let rhs = context.store.get(context.environment.find('rhs'));\n                let lhs = context.self;\n\n                let result = Obj.create(context, Types.Bool);\n                result.set('value', lhs.get('value') <= rhs.get('value'));\n\n                return result;\n            })));\n    }\n}"]}